### Design Spotify Top K Songs

Background: Typically there are four types of windows in stream processing systems:
tumbling window, sliding window, session window, and global window

Global window: window that covers the entire period of data. In context: global window means top k songs of all time 
Tumbling window: fixed size window that does not slide: In context: tumbling window means top k songs of a predefined time interval 
Sliding window: dynamic window that slides over time. 
 -- Example if we set up a sliding window of 10 minutes wiht a slide interval of 1 minute,
 all events in the last 10 minutes will be in the same window, but every minute, the window will
 slide forward by 1 minute. 
 -- Fixed sliding window: the window size and slide interval are predefined, events are bucketed along a fixed time axis 
 -- Arbitary sliding window: the slide interval is not fixed. The window sizde is predefined. Events are bucketed along a dynamic time axis
 meaning the windows open and close based on when events arrive


How would top K be implemented in production:
- Before designing the system, can we just use Flink to implement the top K aggregator in a sliding window?

Stream Processor Implementation:
In production we would use a stream processor like apache flink, spark streaming, kafka streams, google cloud dataflow, aws kinesis, azure stream analytics, or whatever favorite stream process to implement the top K 
aggregator. It's a very popular technology and there are many providers out there

The typical data flow in a stream processor is to read datat from a stream and apply transformation and aggregations and write the results to a stream.

We would write MapReduce style code to 
- Apply transitions
- Group or partition the data based on keys
- Use windowing logic   

Redis Sorted Set Implementation:

If the question for the top K songs in Global window, we have an even simpler implementation using Redis sorted set